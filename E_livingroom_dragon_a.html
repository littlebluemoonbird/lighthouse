<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="style.css" />
  <title>The Lighthouse</title>

  <style>
    #lighthouse { text-align:center; }

    .dragon-wrap{
      display:inline-block;
      perspective: 1200px;
      perspective-origin: 50% 40%;
    }

    .dragon{
      display:inline-block;
      white-space:pre;
      margin:0;
      font: 14px/1.05 Menlo, Monaco, Consolas, "Courier New", monospace;
      letter-spacing: 0;
      transform-style: preserve-3d;
      animation: pop-in 1s cubic-bezier(.2,.8,.2,1) both,
                 breathe 4.8s ease-in-out 1.1s infinite;
      text-shadow:
        0 0 0 rgba(0,0,0,0.0),
        0 0 14px rgba(255,255,255,0.08),
        0 18px 32px rgba(0,0,0,0.65);
      will-change: transform, text-shadow;
    }

    .dragon-wrap:hover .dragon{
      transition: transform 280ms ease, text-shadow 280ms ease;
      transform: translateZ(70px) rotateX(4deg) rotateY(-4deg) scale(1.25);
      text-shadow:
        0 0 20px rgba(255,255,200,0.2),
        0 22px 40px rgba(0,0,0,0.7);
    }

    .poke { 
      transform: translateZ(90px) rotateX(3deg) rotateY(3deg) scale(1.3) !important; 
    }

    .aside {
      display:block;
      margin-top:.25rem;
      font-size:1rem;
      opacity:.9;
      animation: hmm 2.6s ease-in-out infinite;
    }

    #navigate { margin-top: .75rem; display:flex; gap:.5rem; justify-content:center; flex-wrap:wrap; }

    /* BIGGER pop */
    @keyframes pop-in{
      0%   { transform: translateZ(-100px) scale(.7) rotateX(10deg); opacity:0; }
      60%  { transform: translateZ(80px)  scale(1.35) rotateX(-4deg); opacity:1; }
      100% { transform: translateZ(0)     scale(1.15) rotateX(0deg); }
    }
    @keyframes breathe{
      0%   { transform: translateZ(0)    scale(1.15) }
      50%  { transform: translateZ(30px) scale(1.25) }
      100% { transform: translateZ(0)    scale(1.15) }
    }
    @keyframes hmm{
      0%,100% { opacity:.85; transform: translateY(0) }
      50%     { opacity:1;   transform: translateY(-2px) }
    }

    @media (prefers-reduced-motion: reduce){
      .dragon, .aside { animation: none !important; }
      .dragon-wrap:hover .dragon { transition: none; transform: none; }
    }

    @media (max-width:800px){
      .dragon{ font-size:.65rem; line-height:1.05; }
    }
  </style>
</head>
<body>
  <main>
    <div id="lighthouse">

      <div class="dragon-wrap" id="dragonWrap">
<pre class="dragon" id="dragon">
                      ,-,-      
                     / / |      
   ,-'             _/ / /       
  (-_          _,-' `Z_/        
   "#:      ,-'_,-.    \  _     
    #'    _(_-'_()\     \" |    
  ,--_,--'                 |    
 / ""                      L-'\ 
 \,--^---v--v-._        /   \ | 
         \_________________,-'      |     hmm?
                    \           
                     \          
                   \         
                                
</pre>
        <span class="aside">..a dragon!</span><br>
      </div>

      <div id="navigate">
        <a class="A" href="E_livingroom_dragon_b.html">[scream]</a>
        <a class="A" href="E_livingroom_dragon_b.html">[run away]</a>
      </div>

    </div>
  </main>

  <script>
    (function(){
      const wrap = document.getElementById('dragonWrap');
      const dragon = document.getElementById('dragon');
      let t;
      wrap.addEventListener('pointerdown', () => {
        dragon.classList.add('poke');
        clearTimeout(t);
        t = setTimeout(()=>dragon.classList.remove('poke'), 400);
      });
      wrap.addEventListener('mousemove', (e)=>{
        const r = wrap.getBoundingClientRect();
        const dx = (e.clientX - (r.left + r.width/2)) / (r.width/2);
        const dy = (e.clientY - (r.top  + r.height/2)) / (r.height/2);
        dragon.style.transform =
          `translateZ(${50 - Math.abs(dx)*6}px) rotateX(${dy*-6}deg) rotateY(${dx*6}deg) scale(1.2)`;
      });
      wrap.addEventListener('mouseleave', ()=>{
        dragon.style.transform = '';
      });
    })();
  </script>
</body>
</html>